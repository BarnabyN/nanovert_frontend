{"ast":null,"code":"import _slicedToArray from \"/Users/barnabynapier/Documents/nanovert/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/barnabynapier/Documents/nanovert/frontend/src/pages/VendorHomePage.js\";\nimport React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nfunction VendorHomePage() {\n  const history = useHistory();\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        currentVendor = _React$useState2[0],\n        setCurrentVendor = _React$useState2[1];\n\n  const _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        users = _React$useState4[0],\n        setUsers = _React$useState4[1];\n\n  const token = localStorage.getItem(\"token\");\n  React.useEffect(() => {\n    if (token) {\n      fetch(\"http://localhost:5000/get-current-vendor\", {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(u => {\n        setCurrentVendor(u['username']);\n      });\n    }\n  }, [token]);\n  React.useEffect(() => {\n    setLoading(true);\n    fetch(\"http://localhost:5000/vendor-home\").then(res => res.json()).then(u => {\n      setUsers(u);\n      setLoading(false);\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"NANOVERT\")), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Token: \", token), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Current user: \", JSON.stringify(currentUser)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => {\n      localStorage.removeItem(\"token\");\n      history.push(\"/\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Log out.\")), users.map(u => {\n    return React.createElement(\"div\", {\n      style: {\n        borderBottom: \"1px solid lightgrey\",\n        padding: 40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, u.username), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }));\n}\n\nexport default VendorHomePage;","map":{"version":3,"sources":["/Users/barnabynapier/Documents/nanovert/frontend/src/pages/VendorHomePage.js"],"names":["React","useHistory","Link","VendorHomePage","history","useState","currentVendor","setCurrentVendor","users","setUsers","token","localStorage","getItem","useEffect","fetch","headers","then","res","json","u","setLoading","JSON","stringify","currentUser","removeItem","push","map","borderBottom","padding","username"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;;AAEA,SAASC,cAAT,GAA0B;AACtB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;;AADsB,0BAEoBD,KAAK,CAACK,QAAN,CAAe,IAAf,CAFpB;AAAA;AAAA,QAEfC,aAFe;AAAA,QAEAC,gBAFA;;AAAA,2BAGIP,KAAK,CAACK,QAAN,CAAe,IAAf,CAHJ;AAAA;AAAA,QAGfG,KAHe;AAAA,QAGRC,QAHQ;;AAItB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAZ,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AAClB,QAAIH,KAAJ,EAAW;AACPI,MAAAA,KAAK,CAAC,0CAAD,EAA6C;AAC9CC,QAAAA,OAAO,EAAE;AAAC,2BAAkB,UAASL,KAAM;AAAlC;AADqC,OAA7C,CAAL,CAGCM,IAHD,CAGMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHb,EAICF,IAJD,CAIMG,CAAC,IAAI;AAAEZ,QAAAA,gBAAgB,CAACY,CAAC,CAAC,UAAD,CAAF,CAAhB;AAAiC,OAJ9C;AAKH;AACJ,GARD,EAQG,CAACT,KAAD,CARH;AAUAV,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AAClBO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAN,IAAAA,KAAK,CAAC,mCAAD,CAAL,CACGE,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,CAAC,IAAI;AACTV,MAAAA,QAAQ,CAACU,CAAD,CAAR;AACAC,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KALH;AAMD,GARH,EAQK,EARL;AAUA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWV,KAAX,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAkBW,IAAI,CAACC,SAAL,CAAeC,WAAf,CAAlB,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAE,MAAM;AACnBZ,MAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACApB,MAAAA,OAAO,CAACqB,IAAR,CAAa,GAAb;AACC,KAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAJJ,EAYKjB,KAAK,CAACkB,GAAN,CAAUP,CAAC,IAAI;AACZ,WACA;AAAK,MAAA,KAAK,EAAE;AAAEQ,QAAAA,YAAY,EAAE,qBAAhB;AAAuCC,QAAAA,OAAO,EAAE;AAAhD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIT,CAAC,CAACU,QAAN,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADA;AAMT,GAPM,CAZL,CADJ;AAuBH;;AAED,eAAe1B,cAAf","sourcesContent":["import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nfunction VendorHomePage() {\n    const history = useHistory();\n    const [currentVendor, setCurrentVendor] = React.useState(null);\n    const [users, setUsers] = React.useState(null)\n    const token = localStorage.getItem(\"token\");\n\n    React.useEffect(() => {\n        if (token) {\n            fetch(\"http://localhost:5000/get-current-vendor\", {\n                headers: {\"Authorization\": `Bearer ${token}`}\n            })\n            .then(res => res.json())\n            .then(u => { setCurrentVendor(u['username']) });\n        }\n    }, [token]);\n\n    React.useEffect(() => {\n        setLoading(true);\n        fetch(\"http://localhost:5000/vendor-home\")\n          .then(res => res.json())\n          .then(u => {\n            setUsers(u);\n            setLoading(false);\n          });\n      }, []);\n\n    return (\n        <div>\n            <h2><Link to={`/`}>NANOVERT</Link></h2>  \n            <p>Token: {token}</p>\n            <p>Current user: {JSON.stringify(currentUser)}</p>\n            <p>\n                <button onClick={() => {\n                    localStorage.removeItem(\"token\");\n                    history.push(\"/\");\n                    }}>\n                    Log out.\n                </button>\n            </p>\n            {users.map(u => {\n                return (\n                <div style={{ borderBottom: \"1px solid lightgrey\", padding: 40 }}>\n                    <p>{u.username}</p>\n                    <br />\n                </div>\n                );\n      })}\n        </div>\n    );\n}\n\nexport default VendorHomePage;\n"]},"metadata":{},"sourceType":"module"}