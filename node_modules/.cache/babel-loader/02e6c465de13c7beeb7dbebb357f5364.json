{"ast":null,"code":"import _slicedToArray from \"/Users/barnabynapier/Documents/nanovert/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/barnabynapier/Documents/nanovert/frontend/src/pages/VendorHomePage.js\";\nimport React from \"react\";\nimport MaterialTable from 'material-table';\nimport { Button, Fab } from '@material-ui/core';\nimport { useHistory } from \"react-router-dom\";\nimport { Search, FirstPage, LastPage, Clear, ChevronLeft, ChevronRight } from \"@material-ui/icons\";\nimport HomeIcon from \"../components/HomeIcon\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { TableSortLabel, IconButton } from \"@material-ui/core/\";\n\nfunction createJson(username, firstname, lastname, email) {\n  return {\n    \"username\": username,\n    \"firstname\": firstname,\n    \"lastname\": lastname,\n    \"email\": email\n  };\n}\n\nfunction VendorHomePage() {\n  const token = localStorage.getItem(\"token\");\n  const history = useHistory();\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        currentVendor = _React$useState2[0],\n        setCurrentVendor = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        users = _React$useState4[0],\n        setUsers = _React$useState4[1];\n\n  const _React$useState5 = React.useState(null),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        anchorEl = _React$useState6[0],\n        setAnchorEl = _React$useState6[1];\n\n  React.useEffect(() => {\n    fetch(\"http://localhost:5000/vendor-home\").then(res => res.json()).then(u => {\n      setUsers(u);\n    });\n  }, []);\n  React.useEffect(() => {\n    if (token) {\n      fetch(\"http://localhost:5000/get-current-vendor\", {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(u => {\n        setCurrentVendor(u['username']);\n      });\n    }\n  }, [token]);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      backgroundColor: \"whitesmoke\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#009688\",\n      height: \"60px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      float: \"left\",\n      marginLeft: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, HomeIcon()), React.createElement(\"div\", {\n    style: {\n      float: \"right\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      paddingRight: \"10px\",\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, currentVendor), React.createElement(Button, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    variant: \"outlined\",\n    style: {\n      textTransform: \"none\",\n      color: \"white\",\n      marginRight: \"20px\",\n      marginTop: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: () => {\n      handleClose();\n      localStorage.removeItem(\"token\");\n      history.push(\"/\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Log Out\")))), React.createElement(MaterialTable, {\n    style: {\n      margin: \"5%\",\n      backgroundColor: \"white\"\n    },\n    title: \"Verified Users\",\n    options: {\n      search: true\n    },\n    icons: {\n      Search: Search,\n      FirstPage: FirstPage,\n      LastPage: LastPage,\n      PreviousPage: ChevronLeft,\n      NextPage: ChevronRight,\n      SortArrow: TableSortLabel\n    },\n    columns: [{\n      title: 'Username',\n      field: 'username'\n    }, {\n      title: 'First Name',\n      field: 'firstname'\n    }, {\n      title: 'Last Name',\n      field: 'lastname'\n    }, {\n      title: 'Email',\n      field: 'email'\n    }],\n    data: users.map(u => createJson(u.username, u.firstname, u.lastname, u.email)),\n    actions: [{\n      icon: 'save',\n      tooltip: 'Save User',\n      onClick: (event, rowData) => alert(rowData.firstname + \" (\" + rowData.username + \") claimed at \" + currentVendor)\n    }],\n    components: {\n      Action: props => React.createElement(Fab, {\n        onClick: event => props.action.onClick(event, props.data),\n        color: \"primary\",\n        variant: \"contained\",\n        style: {\n          textTransform: 'none'\n        },\n        size: \"medium\",\n        disableElevation: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(RedeemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }));\n}\n\nexport default VendorHomePage;","map":{"version":3,"sources":["/Users/barnabynapier/Documents/nanovert/frontend/src/pages/VendorHomePage.js"],"names":["React","MaterialTable","Button","Fab","useHistory","Search","FirstPage","LastPage","Clear","ChevronLeft","ChevronRight","HomeIcon","Menu","MenuItem","MenuIcon","TableSortLabel","IconButton","createJson","username","firstname","lastname","email","VendorHomePage","token","localStorage","getItem","history","useState","currentVendor","setCurrentVendor","users","setUsers","anchorEl","setAnchorEl","useEffect","fetch","then","res","json","u","headers","handleClick","event","currentTarget","handleClose","textAlign","backgroundColor","height","float","marginLeft","paddingRight","color","textTransform","marginRight","marginTop","Boolean","removeItem","push","margin","search","PreviousPage","NextPage","SortArrow","title","field","map","icon","tooltip","onClick","rowData","alert","Action","props","action","data"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport MaterialTable from 'material-table';\nimport { Button, Fab } from '@material-ui/core'\nimport { useHistory } from \"react-router-dom\";\nimport { Search, FirstPage, LastPage, Clear, ChevronLeft, ChevronRight } from \"@material-ui/icons\"\nimport HomeIcon from \"../components/HomeIcon\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport { TableSortLabel, IconButton } from \"@material-ui/core/\"\n\n\nfunction createJson(username, firstname, lastname, email) {\n    return {\n        \"username\":username,\n        \"firstname\":firstname,\n        \"lastname\":lastname,\n        \"email\":email,\n\n    }\n}\n\nfunction VendorHomePage() {\n    const token = localStorage.getItem(\"token\");\n    const history = useHistory();\n    const [currentVendor, setCurrentVendor] = React.useState(null);\n    const [users, setUsers] = React.useState([]);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    React.useEffect(() => {\n        fetch(\"http://localhost:5000/vendor-home\")\n            .then(res => res.json())\n            .then(u => { setUsers(u)});\n    }, []);\n\n    React.useEffect(() => {\n        if (token) {\n            fetch(\"http://localhost:5000/get-current-vendor\", {\n                headers: {\"Authorization\": `Bearer ${token}`}\n            })\n            .then(res => res.json())\n            .then(u => { setCurrentVendor(u['username']) });\n        }\n    }, [token]);\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n      };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n      };\n\n    return (\n        <div style={{textAlign:\"center\", backgroundColor:\"whitesmoke\"}}>\n            <div style={{backgroundColor:\"#009688\", height:\"60px\"}}>\n                <div style={{float:\"left\", marginLeft:\"20px\"}}>{HomeIcon()}</div>\n\n                <div style={{float:\"right\"}}> \n                <b style={{paddingRight:\"10px\", color:\"white\"}}>{currentVendor}</b>\n                    <Button \n                        aria-controls=\"simple-menu\" \n                        aria-haspopup=\"true\" \n                        onClick={handleClick}\n                        variant=\"outlined\"\n                        style={{textTransform:\"none\", color:\"white\", marginRight:\"20px\", marginTop:\"15px\"}}\n                    >\n                        <MenuIcon />\n                    </Button>\n                    <Menu\n                        id=\"simple-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={Boolean(anchorEl)}\n                        onClose={handleClose}\n                    >\n                        <MenuItem onClick={() => {\n                            handleClose();\n                            localStorage.removeItem(\"token\");\n                            history.push(\"/\");\n                        }}>\n                            Log Out</MenuItem>\n                    </Menu>\n                </div>\n            </div>\n\n            <MaterialTable\n                style={{margin:\"5%\", backgroundColor:\"white\"}}\n                title=\"Verified Users\"\n                options={{\n                        search: true,\n                    }}\n                icons={{\n                    Search: Search,\n                    FirstPage: FirstPage,\n                    LastPage: LastPage,\n                    PreviousPage: ChevronLeft,\n                    NextPage: ChevronRight,\n                    SortArrow: TableSortLabel\n                }}\n                columns={[\n                    { title: 'Username', field: 'username' },\n                    { title: 'First Name', field: 'firstname' },\n                    { title: 'Last Name', field: 'lastname' },\n                    { title: 'Email', field: 'email' }\n                ]}\n                data={users.map(u => createJson(u.username, u.firstname, u.lastname, u.email))}\n                actions={[\n                    {\n                      icon: 'save',\n                      tooltip: 'Save User',\n                      onClick: (event, rowData) => alert(\n                          rowData.firstname + \" (\" + rowData.username + \") claimed at \" + currentVendor)\n                    }\n                  ]}\n                  components={{\n                    Action: props => (\n                      <Fab\n                        onClick={(event) => props.action.onClick(event, props.data)}\n                        color=\"primary\"\n                        variant=\"contained\"\n                        style={{textTransform: 'none'}}\n                        size=\"medium\"\n                        disableElevation=\"true\"\n                      >\n                        <RedeemIcon />\n                      </Fab>\n                    ),\n                  }}\n                />\n\n        </div>\n    );\n}\n\nexport default VendorHomePage;"]},"metadata":{},"sourceType":"module"}